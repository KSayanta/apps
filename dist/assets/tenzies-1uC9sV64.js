import{j as c,R as I,r as g,c as D}from"./component-BnOx5L_g.js";const E="/app/rolling-dices.webp";function A(){return c.jsxs("header",{className:"main-header",children:[c.jsx("img",{src:E,alt:""}),c.jsx("h1",{className:"heading",children:"Tenzies"})]})}const k="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let B=(o=21)=>{let t="",e=crypto.getRandomValues(new Uint8Array(o|=0));for(;o--;)t+=k[e[o]&63];return t};var C,S;function T(){if(S)return C;S=1;var o={linear:function(t,e,s,i){var n=s-e;return n*t/i+e},easeInQuad:function(t,e,s,i){var n=s-e;return n*(t/=i)*t+e},easeOutQuad:function(t,e,s,i){var n=s-e;return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,s,i){var n=s-e;return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,s,i){var n=s-e;return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,s,i){var n=s-e;return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,s,i){var n=s-e;return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,s,i){var n=s-e;return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,s,i){var n=s-e;return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,s,i){var n=s-e;return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,s,i){var n=s-e;return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,s,i){var n=s-e;return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,s,i){var n=s-e;return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,s,i){var n=s-e;return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,s,i){var n=s-e;return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,s,i){var n=s-e;return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,s,i){var n=s-e;return t==0?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,s,i){var n=s-e;return t==i?e+n:n*(-Math.pow(2,-10*t/i)+1)+e},easeInOutExpo:function(t,e,s,i){var n=s-e;return t===0?e:t===i?e+n:(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e},easeInCirc:function(t,e,s,i){var n=s-e;return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,s,i){var n=s-e;return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,s,i){var n=s-e;return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,s,i){var n=s-e,r,a,h;return h=1.70158,a=0,r=n,t===0?e:(t/=i)===1?e+n:(a||(a=i*.3),r<Math.abs(n)?(r=n,h=a/4):h=a/(2*Math.PI)*Math.asin(n/r),-(r*Math.pow(2,10*(t-=1))*Math.sin((t*i-h)*(2*Math.PI)/a))+e)},easeOutElastic:function(t,e,s,i){var n=s-e,r,a,h;return h=1.70158,a=0,r=n,t===0?e:(t/=i)===1?e+n:(a||(a=i*.3),r<Math.abs(n)?(r=n,h=a/4):h=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-h)*(2*Math.PI)/a)+n+e)},easeInOutElastic:function(t,e,s,i){var n=s-e,r,a,h;return h=1.70158,a=0,r=n,t===0?e:(t/=i/2)===2?e+n:(a||(a=i*(.3*1.5)),r<Math.abs(n)?(r=n,h=a/4):h=a/(2*Math.PI)*Math.asin(n/r),t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t*i-h)*(2*Math.PI)/a))+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-h)*(2*Math.PI)/a)*.5+n+e)},easeInBack:function(t,e,s,i,n){var r=s-e;return n===void 0&&(n=1.70158),r*(t/=i)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,s,i,n){var r=s-e;return n===void 0&&(n=1.70158),r*((t=t/i-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,s,i,n){var r=s-e;return n===void 0&&(n=1.70158),(t/=i/2)<1?r/2*(t*t*(((n*=1.525)+1)*t-n))+e:r/2*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)+e},easeInBounce:function(t,e,s,i){var n=s-e,r;return r=o.easeOutBounce(i-t,0,n,i),n-r+e},easeOutBounce:function(t,e,s,i){var n=s-e;return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,s,i){var n=s-e,r;return t<i/2?(r=o.easeInBounce(t*2,0,n,i),r*.5+e):(r=o.easeOutBounce(t*2-i,0,n,i),r*.5+n*.5+e)}};return C=o,C}var G=T();function q(o){return o*Math.PI/180}function l(o,t){return o+Math.random()*(t-o)}function H(o,t){return Math.floor(o+Math.random()*(t-o+1))}var y;(function(o){o[o.Circle=0]="Circle",o[o.Square=1]="Square",o[o.Strip=2]="Strip"})(y||(y={}));var w;(function(o){o[o.Positive=1]="Positive",o[o.Negative=-1]="Negative"})(w||(w={}));const Q=1e3/60;class Y{constructor(t,e,s,i){this.getOptions=e;const{colors:n,initialVelocityX:r,initialVelocityY:a}=this.getOptions();this.context=t,this.x=s,this.y=i,this.w=l(5,20),this.h=l(5,20),this.radius=l(5,10),this.vx=typeof r=="number"?l(-r,r):l(r.min,r.max),this.vy=typeof a=="number"?l(-a,0):l(a.min,a.max),this.shape=H(0,2),this.angle=q(l(0,360)),this.angularSpin=l(-.2,.2),this.color=n[Math.floor(Math.random()*n.length)],this.rotateY=l(0,1),this.rotationDirection=l(0,1)?w.Positive:w.Negative}update(t){const{gravity:e,wind:s,friction:i,opacity:n,drawShape:r}=this.getOptions(),a=t/Q;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=e*a,this.vx+=s*a,this.vx*=i**a,this.vy*=i**a,this.rotateY>=1&&this.rotationDirection===w.Positive?this.rotationDirection=w.Negative:this.rotateY<=-1&&this.rotationDirection===w.Negative&&(this.rotationDirection=w.Positive);const h=.1*this.rotationDirection*a;if(this.rotateY+=h,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=n,this.context.lineCap="round",this.context.lineWidth=2,r&&typeof r=="function")r.call(this,this.context);else switch(this.shape){case y.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case y.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case y.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class _{constructor(t,e){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=i=>{this.particles.splice(i,1)},this.getParticle=()=>{const i=l(this.x,this.w+this.x),n=l(this.y,this.h+this.y);return new Y(this.context,this.getOptions,i,n)},this.animate=i=>{const{canvas:n,context:r,particlesGenerated:a,lastNumberOfPieces:h}=this,{run:f,recycle:v,numberOfPieces:m,debug:P,tweenFunction:O,tweenDuration:u}=this.getOptions();if(!f)return!1;const p=this.particles.length,d=v?p:a;if(d<m){h!==m&&(this.tweenProgress=0,this.tweenFrom=d,this.lastNumberOfPieces=m),this.tweenProgress=Math.min(u,Math.max(0,this.tweenProgress+i));const M=O(this.tweenProgress,this.tweenFrom,m,u),x=Math.round(M-d);for(let N=0;N<x;N++)this.particles.push(this.getParticle());this.particlesGenerated+=x}P&&(r.font="12px sans-serif",r.fillStyle="#333",r.textAlign="right",r.fillText(`Particles: ${p}`,n.width-10,n.height-20));for(let M=this.particles.length-1;M>=0;M--){const x=this.particles[M];x.update(i),(x.y>n.height||x.y<-100||x.x>n.width+100||x.x<-100)&&(v&&d<=m?this.particles[M]=this.getParticle():this.removeParticleAt(M))}return p>0||d<m},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.getOptions=e}}const R={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:G.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class V{constructor(t,e){this.lastFrameTime=0,this.setOptionsWithDefaults=i=>{const n={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...n,...R,...i},Object.assign(this,i.confettiSource)},this.update=(i=0)=>{const{options:{run:n,onConfettiComplete:r,frameRate:a},canvas:h,context:f}=this,v=Math.min(i-this.lastFrameTime,50);if(a&&v<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=i-(a?v%a:0),n&&(f.fillStyle="white",f.clearRect(0,0,h.width,h.height)),this.generator.animate(v)?this.rafId=requestAnimationFrame(this.update):(r&&typeof r=="function"&&this.generator.particlesGenerated>0&&r.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=t;const s=this.canvas.getContext("2d");if(!s)throw new Error("Could not get canvas context");this.context=s,this.generator=new _(this.canvas,()=>this.options),this.options=e,this.update()}get options(){return this._options}set options(t){var i,n;const e=(i=this._options)==null?void 0:i.run,s=(n=this._options)==null?void 0:n.recycle;this.setOptionsWithDefaults(t),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof t.recycle=="boolean"&&t.recycle&&s===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof t.run=="boolean"&&t.run&&e===!1&&this.update()}}const W=I.createRef();class F extends I.Component{constructor(t){super(t),this.canvas=I.createRef(),this.canvas=t.canvasRef||W}componentDidMount(){if(this.canvas.current){const t=j(this.props)[0];this.confetti=new V(this.canvas.current,t)}}componentDidUpdate(){const t=j(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,e]=j(this.props),s={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...e.style};return c.jsx("canvas",{width:t.width,height:t.height,ref:this.canvas,...e,style:s})}}F.defaultProps={...R};F.displayName="ReactConfetti";function j(o){const t={},e={},s={},i=[...Object.keys(R),"confettiSource","drawShape","onConfettiComplete","frameRate"],n=["canvasRef"];for(const r in o){const a=o[r];i.includes(r)?t[r]=a:n.includes(r)?n[r]=a:s[r]=a}return[t,s,e]}const U=I.forwardRef((o,t)=>c.jsx(F,{canvasRef:t,...o}));function X({value:o,isHeld:t,onClick:e}){return c.jsx("button",{className:"btn die","data-value":o,"aria-label":`Die with value ${o}, ${o?"held":"not held"}`,"aria-pressed":t,onClick:e})}function $({diceArr:o,handleHeld:t}){return c.jsx("div",{className:"die-wrapper",children:o.map(e=>c.jsx(X,{isHeld:e.isHeld,value:e.value,onClick:()=>t(e.id)},e.id))})}function z(){const o=g.useRef(null),[t,e]=g.useState(!1),[s,i]=g.useState(0),[n,r]=g.useState(0),[a,h]=g.useState(()=>v()),f=a.every(u=>u.isHeld)&&a.every(u=>a[0].value===u.value);function v(){const u=()=>({id:B(),isHeld:!1,value:Math.ceil(Math.random()*6)});return new Array(10).fill(0).map(u)}function m(){t||e(!0),i(u=>u+1),h(u=>u.map(p=>p.isHeld?p:{...p,value:Math.ceil(Math.random()*6)}))}function P(u){t||e(!0),h(p=>p.map(d=>d.id===u?{...d,isHeld:!d.isHeld}:d))}function O(){h(v()),r(0),i(0)}return g.useEffect(()=>{f&&(o.current&&o.current.focus(),e(!1))},[f]),g.useEffect(()=>{if(t){const u=setInterval(()=>{r(p=>p+1)},1e3);return()=>clearInterval(u)}},[t,n]),c.jsxs("main",{className:"main wrapper wrapper--flex",children:[c.jsxs("section",{className:"canvas",children:[c.jsx("div",{className:"instructions","aria-live":"polite",children:f?c.jsxs("p",{children:["Congratulations! You won!",c.jsx("br",{}),' Press "New Game" to start again.']}):c.jsxs("p",{children:["Roll until all dice are the same.",c.jsx("br",{})," Click each die to freeze it at its current value between rolls."]})}),f&&c.jsxs("div",{"aria-live":"polite",className:"score",children:[c.jsx("p",{children:"You took "}),c.jsxs("span",{className:"time",children:[n,"s"]}),c.jsxs("p",{children:["Rolled",c.jsxs("span",{className:"roll",children:[" ",s," "]}),"times!"]})]}),c.jsx($,{diceArr:a,handleHeld:P}),f?c.jsx("button",{className:"btn btn-cta",onClick:O,ref:o,children:"New Game"}):c.jsx("button",{className:"btn btn-cta",onClick:m,children:"Reroll"})]}),f&&c.jsx(U,{})]})}function K(){return c.jsxs(c.Fragment,{children:[c.jsx(A,{}),c.jsx(z,{})]})}D.createRoot(document.getElementById("root")).render(c.jsx(g.StrictMode,{children:c.jsx(K,{})}));
